alice sends bob 10usd/alice without trust
Getting message and delegating to handleMessage {"id":25,"result":{"alternatives":[],"destination_account":"rwmityd4Ss34DBUsRy7Pacv6UA5n7yjfe5","destination_currencies":["XRP"],"ledger_current_index":4,"validated":false},"status":"success","type":"response"}

ripple-lib:server:_handleMessage
ripple-lib:server:_handleMessage:message.type: response
info:    GET /v1/accounts/rJRLoJSErtNRFnbCyHEUYnRUKNwkVYDM7U/payments/paths/rwmityd4Ss34DBUsRy7Pacv6UA5n7yjfe5/10+USD+rJRLoJSErtNRFnbCyHEUYnRUKNwkVYDM7U 404 9.891 ms - 169
{ success: false,
  error_type: 'invalid_request',
  error: 'No paths found',
  message: 'The destination_account does not accept USD, they only accept: XRP' }
․granting a trustline towards alice from bob
ripple-lib:submit
calling remote account submit
ripple-lib:transactionmanager:loadSequence
ripple-lib:transactionManager:submit:
Getting message and delegating to handleMessage {"id":26,"result":{},"status":"success","type":"response"}

ripple-lib:server:_handleMessage
ripple-lib:server:_handleMessage:message.type: response
Getting message and delegating to handleMessage {"id":27,"result":{"account_data":{"Account":"rwmityd4Ss34DBUsRy7Pacv6UA5n7yjfe5","Balance":"200000000","Flags":0,"LedgerEntryType":"AccountRoot","OwnerCount":0,"PreviousTxnID":"7B840C40E0276FA6C4895055AA9A1781AE774CD0E7FE5512B262623CC72653E8","PreviousTxnLgrSeq":4,"Sequence":1,"index":"F44A494EEF93D6AD5D257D7A23A075FF29FF142B0FC8DE68DA43F0F176D47A6E"},"ledger_current_index":4,"validated":false},"status":"success","type":"response"}

ripple-lib:server:_handleMessage
ripple-lib:server:_handleMessage:message.type: response
ripple-lib:transactionManager:submit:
SERIALIZE: tx_json: { Flags: 2147483648,
  TransactionType: 'TrustSet',
  Account: 'rwmityd4Ss34DBUsRy7Pacv6UA5n7yjfe5',
  LimitAmount: 
   { value: '10',
     currency: 'USD',
     issuer: 'rJRLoJSErtNRFnbCyHEUYnRUKNwkVYDM7U' },
  Sequence: 1,
  SigningPubKey: '03BC02F6C0F2C50EF5DB02C2C17062B7449B34FBD669A75362E41348C9FAE3DDE1',
  Fee: '12',
  LastLedgerSequence: 12,
  TxnSignature: '304402203622FB32D81BCA193EC797115349B8AEDEF70ADDA73E7C70C0EF61657DD3C0FB0220065A75C89BCE67138D3100C2EC814EAA96A09F3589B074DB7B618D77DE098398' }
Getting message and delegating to handleMessage {"id":28,"result":{"engine_result":"tesSUCCESS","engine_result_code":0,"engine_result_message":"The transaction was applied.","tx_blob":"12001422800000002400000001201B0000000C63D4C38D7EA4C680000000000000000000000000005553440000000000BF14A5EF6814B074833FDDBA3B2235812EF55ABF68400000000000000C732103BC02F6C0F2C50EF5DB02C2C17062B7449B34FBD669A75362E41348C9FAE3DDE17446304402203622FB32D81BCA193EC797115349B8AEDEF70ADDA73E7C70C0EF61657DD3C0FB0220065A75C89BCE67138D3100C2EC814EAA96A09F3589B074DB7B618D77DE09839881146B3515E84CB5F28032F968FCBD58B694B33E1C69","tx_json":{"Account":"rwmityd4Ss34DBUsRy7Pacv6UA5n7yjfe5","Fee":"12","Flags":2147483648,"LastLedgerSequence":12,"LimitAmount":{"currency":"USD","issuer":"rJRLoJSErtNRFnbCyHEUYnRUKNwkVYDM7U","value":"10"},"Sequence":1,"SigningPubKey":"03BC02F6C0F2C50EF5DB02C2C17062B7449B34FBD669A75362E41348C9FAE3DDE1","TransactionType":"TrustSet","TxnSignature":"304402203622FB32D81BCA193EC797115349B8AEDEF70ADDA73E7C70C0EF61657DD3C0FB0220065A75C89BCE67138D3100C2EC814EAA96A09F3589B074DB7B618D77DE098398","hash":"6D734CEE0B1B2FA27E8446ACC31F6BF09DC7946C4F93619AC878F18D612AA4E2"}},"status":"success","type":"response"}

ripple-lib:server:_handleMessage
ripple-lib:server:_handleMessage:message.type: response
info:    POST /v1/accounts/rwmityd4Ss34DBUsRy7Pacv6UA5n7yjfe5/trustlines 201 117.291 ms - 327
{ success: true,
  trustline: 
   { account: 'rwmityd4Ss34DBUsRy7Pacv6UA5n7yjfe5',
     limit: '10',
     currency: 'USD',
     counterparty: 'rJRLoJSErtNRFnbCyHEUYnRUKNwkVYDM7U',
     account_allows_rippling: true },
  ledger: '4',
  hash: '6D734CEE0B1B2FA27E8446ACC31F6BF09DC7946C4F93619AC878F18D612AA4E2' }
․Database Error. Cannot save transaction to database. Error: SQLITE_CONSTRAINT: NOT NULL constraint failed: outgoing_transactions.client_resource_id
Cleanup: closing down
Disconnected from rippled


  14 passing (9s)








received: {"command":"account_info","id":26,"ident":"rwmityd4Ss34DBUsRy7Pacv6UA5n7yjfe5","account":"rwmityd4Ss34DBUsRy7Pacv6UA5n7yjfe5"}
EMITTING  account_info
Getting message and delegating to handleMessage {"id":25,"result":{},"status":"success","type":"response"}
ripple-lib:server:_handleMessage
ripple-lib:server:_handleMessage:message.type: response
Getting message and delegating to handleMessage {"id":26,"result":{"account_data":{"Account":"rwmityd4Ss34DBUsRy7Pacv6UA5n7yjfe5","Balance":"200000000","Flags":0,"LedgerEntryType":"AccountRoot","OwnerCount":0,"PreviousTxnID":"E05706F92475436BEA5570743331E2D62DBCECA2B9FA6F7FED39C8A85490EF68","PreviousTxnLgrSeq":4,"Sequence":1,"index":"F44A494EEF93D6AD5D257D7A23A075FF29FF142B0FC8DE68DA43F0F176D47A6E"},"ledger_current_index":4,"validated":false},"status":"success","type":"response"}
ripple-lib:server:_handleMessage
ripple-lib:server:_handleMessage:message.type: response
ripple-lib:transactionManager:submit:
SERIALIZE: tx_json: { Flags: 2147483648,
  TransactionType: 'TrustSet',
  Account: 'rwmityd4Ss34DBUsRy7Pacv6UA5n7yjfe5',
  LimitAmount: 
   { value: '10',
     currency: 'USD',
     issuer: 'rJRLoJSErtNRFnbCyHEUYnRUKNwkVYDM7U' },
  Sequence: 1,
  SigningPubKey: '03BC02F6C0F2C50EF5DB02C2C17062B7449B34FBD669A75362E41348C9FAE3DDE1',
  Fee: '12',
  LastLedgerSequence: 8804624,
  TxnSignature: '3044022066510E118AAC317CF65D80F9E654AFFC2A6378FB54B0F15746158BBBD66B5CA2022052A411BF37559993DE6EB9669F9BD7B341E9A87C216B7A505DA2E5AB8D5D6C83' }



received: {"command":"submit","id":27,"tx_blob":"12001422800000002400000001201B0086591063D4C38D7EA4C680000000000000000000000000005553440000000000BF14A5EF6814B074833FDDBA3B2235812EF55ABF68400000000000000C732103BC02F6C0F2C50EF5DB02C2C17062B7449B34FBD669A75362E41348C9FAE3DDE174463044022066510E118AAC317CF65D80F9E654AFFC2A6378FB54B0F15746158BBBD66B5CA2022052A411BF37559993DE6EB9669F9BD7B341E9A87C216B7A505DA2E5AB8D5D6C8381146B3515E84CB5F28032F968FCBD58B694B33E1C69"}
EMITTING  submit
submit request: { command: 'submit',
  id: 27,
  tx_blob: '12001422800000002400000001201B0086591063D4C38D7EA4C680000000000000000000000000005553440000000000BF14A5EF6814B074833FDDBA3B2235812EF55ABF68400000000000000C732103BC02F6C0F2C50EF5DB02C2C17062B7449B34FBD669A75362E41348C9FAE3DDE174463044022066510E118AAC317CF65D80F9E654AFFC2A6378FB54B0F15746158BBBD66B5CA2022052A411BF37559993DE6EB9669F9BD7B341E9A87C216B7A505DA2E5AB8D5D6C8381146B3515E84CB5F28032F968FCBD58B694B33E1C69' }
submit request deserialized { TransactionType: 'TrustSet',
  Flags: 2147483648,
  Sequence: 1,
  LastLedgerSequence: 8804624,
  LimitAmount: 
   { value: '10',
     currency: 'USD',
     issuer: 'rJRLoJSErtNRFnbCyHEUYnRUKNwkVYDM7U' },
  Fee: '12',
  SigningPubKey: '03BC02F6C0F2C50EF5DB02C2C17062B7449B34FBD669A75362E41348C9FAE3DDE1',
  TxnSignature: '3044022066510E118AAC317CF65D80F9E654AFFC2A6378FB54B0F15746158BBBD66B5CA2022052A411BF37559993DE6EB9669F9BD7B341E9A87C216B7A505DA2E5AB8D5D6C83',
  Account: 'rwmityd4Ss34DBUsRy7Pacv6UA5n7yjfe5' }
Database Error. Cannot save transaction to database. Error: SQLITE_CONSTRAINT: NOT NULL constraint failed: outgoing_transactions.client_resource_id
^Crook@debian:~/ripple-rest/test2$ Sending sample ledger
Getting message and delegating to handleMessage {"type":"ledgerClosed","fee_base":10,"fee_ref":10,"ledger_hash":"5CE11F88A44F7DA9D2E092719CEC7920BCE6128428F4549B8F51299648A9511C","ledger_index":8804615,"ledger_time":463710700,"reserve_base":20000000,"reserve_inc":5000000,"txn_count":17,"validated_ledgers":"32570-8804615"}
ripple-lib:server:_handleMessage
ripple-lib:server:_handleMessage:message.type: ledgerClosed
ripple-lib:server:calling HandleLedgerClosed
ripple-lib:server:handleLedgerClosed 8804615

